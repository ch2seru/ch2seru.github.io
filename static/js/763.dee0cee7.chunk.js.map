{"version":3,"file":"static/js/763.dee0cee7.chunk.js","mappings":"mKA+CA,QA3CA,SAAsBA,GACpB,IAAKC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,IAC5BC,EAAKC,IAAUF,EAAAA,EAAAA,UAAS,KAI7BG,EAAAA,EAAAA,YAAU,KACM,GAATL,GAAcA,EAAQ,GACzBI,EAAOD,EAAI,EACb,GACE,CAACH,IAUH,IAAIM,GAASC,EAAAA,EAAAA,UAAS,gBAAM,IAC1BC,EAAAA,EAAMC,IAAI,gDACTC,MAAMC,GAAaA,EAAEC,QACtB,CAAEC,UAAY,MAEhB,OACAC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gBACAV,EAAOY,WAAa,qBACpBZ,EAAOa,OAAS,qBAChBb,EAAOM,MAAQN,EAAOM,KAAKQ,MAC7BN,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,wJACJF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,CAAK,+CAAUb,MACfc,EAAAA,EAAAA,KAAA,UAAQI,QAASA,KACfpB,EAASD,EAAM,EAAE,EACjBgB,SAAC,oDAIb,C","sources":["routes/ExReactQuery.js"],"sourcesContent":["import { useQuery } from 'react-query' \r\nimport axios from 'axios';\r\nimport { useState, useEffect } from \"react\";\r\n\r\nfunction ExReactQuery(props){\r\n  let [count, setCount] = useState(0);\r\n  let [age, setAge] = useState(20);\r\n\r\n  //state 변경함수는 async 하게 처리되는 함수기 때문에 완료되기까지 시간이 오래걸리면 제쳐두고 다음 코드를 실행해줍니다.\r\n  //이걸 정확히 sync스럽게, 순차적으로 실행하고 싶을 때 해결책은 useEffect입니다. \r\n  useEffect(()=>{\r\n    if ( count != 0 && count < 3 ) {\r\n      setAge(age+1)\r\n    }\r\n   }, [count]) \r\n\r\n    //react-query\r\n    //실시간 필요한 데이터가 있을때 사용 ex실시간 SNS, 코인거래소\r\n    //장점1 ajax 성공/실패/로딩중 파악 쉬움 \r\n    //장점2 틈만나면 알아서 ajax 재요청해줌 \r\n    //장점3 실패시 재시도 알아서 해줌 \r\n    //장점4 ajax로 가져온 결과는 state 공유 필요없음 \r\n    //(자식 컴포넌트에서도 똑같이 요청하는 코드(ajax) 짜면됨 중복요청이 아니라 합쳐서 하나만 요청함)\r\n    //장점5 캐싱기능능 기존에 성공한 결과 보여주고 재요청함\r\n    let result = useQuery('작명', ()=>\r\n      axios.get('https://codingapple1.github.io/userdata.json')\r\n      .then((a)=>{ return a.data }),\r\n      { staleTime : 2000 } //{ staleTime : 2000 } - 2초안에는 재로딩 안됨\r\n    )\r\n    return(\r\n    <div className=\"container\">\r\n      <h1>react-query</h1>\r\n        { result.isLoading && '로딩중' }\r\n        { result.error && '에러남' }\r\n        { result.data && result.data.name }\r\n        <div>\r\n          <h1>버튼을 누르면 2개 기능을 순차적으로 실행하고 싶습니다.</h1>\r\n          <div>안녕하십니까 전 {age}</div>\r\n          <button onClick={()=>{\r\n            setCount(count+1)\r\n          }}>누르면한살먹기</button>\r\n      </div>\r\n    </div> \r\n    )\r\n}\r\n\r\n\r\nexport default ExReactQuery;"],"names":["props","count","setCount","useState","age","setAge","useEffect","result","useQuery","axios","get","then","a","data","staleTime","_jsxs","className","children","_jsx","isLoading","error","name","onClick"],"sourceRoot":""}